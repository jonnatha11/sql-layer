# Originally based off of files in fdb-sql-layer-pg/src/test/resources/com/foundationdb/sql/pg/select
---
- Include: all-schema.yaml
---
- Statement: SELECT name FROM customers WHERE cid = 1 
- output: [['Smith']]
---
- Statement: SELECT * FROM customers 
- output: [['1','Smith'],['2','Jones']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku = '1234' ORDER BY order_date 
- output_already_ordered: [['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','1234','100']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku = '1234' ORDER BY order_date DESC 
- output_already_ordered: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid ORDER BY sku, order_date 
- output_already_ordered: [['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','1234','100'],['Smith','2011-03-01','4567','50'],['Jones','2011-03-03','9876','1']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid ORDER BY sku DESC, order_date 
- output_already_ordered: [['Jones','2011-03-03','9876','1'],['Smith','2011-03-01','4567','50'],['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','1234','100']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid ORDER BY sku DESC, order_date DESC 
- output_already_ordered: [['Jones','2011-03-03','9876','1'],['Smith','2011-03-01','4567','50'],['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers INNER JOIN orders ON customers.cid = orders.cid INNER JOIN items ON orders.oid = items.oid ORDER BY order_date DESC, quan DESC LIMIT 100 
- output_already_ordered: [['Jones','2011-03-03','9876','1'],['Smith','2011-03-01','1234','100'],['Smith','2011-03-01','4567','50'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid ORDER BY quan DESC 
- output_already_ordered: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','4567','50'],['Jones','2011-03-03','9876','1']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid ORDER BY quan DESC LIMIT 2 
- output_already_ordered: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT order_date, sku, quan FROM customers INNER JOIN orders ON customers.cid = orders.cid INNER JOIN items ON orders.oid = items.oid WHERE name = 'Smith' AND sku IN ('1234', '9876') 
- output: [['2011-03-01','1234','100']]
---
- Statement: SELECT order_date, sku, quan FROM customers INNER JOIN orders ON customers.cid = orders.cid INNER JOIN items ON orders.oid = items.oid WHERE name = 'Smith' AND quan IN (99, 100, 101) 
- output: [['2011-03-01','1234','100']]
---
- Statement: SELECT name, MIN(order_date), MAX(order_date), COUNT(*) FROM customers INNER JOIN orders ON customers.cid = orders.cid GROUP BY name ORDER BY name 
- output_already_ordered: [['Jones','2011-02-28','2011-03-03','2'],['Smith','2011-03-01','2011-03-02','2']]
---
- Statement: SELECT MIN(order_date), MAX(order_date), COUNT(*) FROM orders WHERE oid=999 GROUP BY cid 
- row_count: 0
---
- Statement: SELECT MIN(order_date), MAX(order_date), COUNT(*) FROM orders WHERE oid=999 
- output: [[null,null,'0']]
---
- Statement: SELECT MIN(order_date), MAX(order_date), COUNT(*) FROM orders WHERE oid=999 GROUP BY ROLLUP(cid)
- error: ['0A50C'] # GROUP BY ROLLUP is temporarily not supported
---
- Statement: select name from customers WHERE 1 ORDER BY name 
- output_already_ordered: [['Jones'],['Smith']]
---
- Statement: select name from customers WHERE 0 ORDER BY name 
- row_count: 0
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND customers.name = 'Jones' AND items.sku > '5000' 
- output: [['Jones','2011-03-03','9876','1']]
---
- Statement: SELECT name FROM customers ORDER BY name 
- output_already_ordered: [['Jones'],['Smith']]
--- 
- Statement: SELECT cid AS id, name as "Customer Name" FROM customers 
- output: [['1','Smith'],['2','Jones']]
--- 
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku < '8888' 
- output: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','4567','50']]
---
- Statement: SELECT name FROM customers WHERE cid IN (1000, 999, ?) 
- params: [[1]]
- output: [['Smith']]
---
- Statement: SELECT customers.name, (SELECT MAX(order_date) FROM orders WHERE customers.cid = orders.cid) AS max_date FROM customers
- output: [['Smith','2011-03-02'],['Jones','2011-03-03']]
---
- Statement: SELECT iid, sku, quan FROM items WHERE EXISTS (SELECT * FROM items i2 WHERE items.sku = i2.sku AND items.iid <> i2.iid) OR iid < 0 
- output: [['1011','1234','100'],['2021','1234','99']]
---
- Statement: SELECT * FROM customers WHERE name IN (SELECT c2.name FROM customers c2, orders WHERE c2.cid = orders.cid AND order_date > '2011-01-01') 
- output: [['1','Smith'],['2','Jones']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM items INNER JOIN orders ON orders.oid = items.oid LEFT OUTER JOIN customers ON customers.cid = orders.cid WHERE order_date < '2011-03-01' 
- output: [[null,'2010-01-01','9999','888'],['Jones','2011-02-28','1234','99']]
--- 
- Statement: SELECT customers.name,order_date,sku,quan FROM items INNER JOIN orders ON orders.oid = items.oid LEFT OUTER JOIN customers ON customers.cid = orders.cid WHERE order_date < '2011-03-01' ORDER BY order_date, name 
- output_already_ordered: [[null,'2010-01-01','9999','888'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT name, order_date FROM customers RIGHT JOIN orders USING (cid) WHERE (order_date != '2011-03-02' AND order_date != '2011-02-28') 
- output: [[null,'2010-01-01'],['Smith','2011-03-01'],['Jones','2011-03-03']]
---
- Statement: SELECT name, order_date FROM customers RIGHT JOIN orders USING (cid) WHERE (order_date != '2011-03-02' AND order_date != '2011-02-28') OR order_date IS NULL 
- output: [[null,'2010-01-01'],['Smith','2011-03-01'],['Jones','2011-03-03']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku = '1234' 
- output: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku >= '0' AND items.sku < '8888' 
- output: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','4567','50']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku < ? 
- params: [['8888']]
- output: [['Smith','2011-03-01','1234','100'],['Smith','2011-03-01','4567','50'],['Jones','2011-02-28','1234','99']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku < '8888' AND items.quan = 100 
- output: [['Smith','2011-03-01','1234','100']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers,orders,items WHERE customers.cid = orders.cid AND orders.oid = items.oid AND items.sku < ? AND items.quan = ? 
- params: [['8888','100']]
- output: [['Smith','2011-03-01','1234','100']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers INNER JOIN orders ON customers.cid = orders.cid INNER JOIN items ON orders.oid = items.oid WHERE items.sku < '8888' 
- output: [['Smith','2011-03-01','1234','100'],['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','4567','50']]
---
- Statement: SELECT order_date,sku FROM orders INNER JOIN items ON orders.oid = items.oid WHERE sku < '8888' ORDER BY sku,order_date 
- output_already_ordered: [['2011-02-28','1234'],['2011-03-01','1234'],['2011-03-01','4567']]
---
- Statement: SELECT customers.name,order_date FROM customers,orders WHERE customers.cid = orders.cid ORDER BY order_date 
- output_already_ordered: [['Jones','2011-02-28'],['Smith','2011-03-01'],['Smith','2011-03-02'],['Jones','2011-03-03']]
---
- Statement: SELECT customers.name,order_date FROM customers,orders WHERE customers.cid = orders.cid ORDER BY order_date DESC LIMIT 2 
- output_already_ordered: [['Jones','2011-03-03'],['Smith','2011-03-02']]
---
- Statement: SELECT customers.name,order_date FROM customers,orders,addresses WHERE customers.cid = orders.cid AND customers.cid = addresses.cid AND addresses.state = 'MA' 
- output: [['Smith','2011-03-01'],['Smith','2011-03-02']]
---
- Statement: SELECT customers.name,order_date,city FROM customers,orders,addresses WHERE customers.cid = orders.cid AND customers.cid = addresses.cid AND addresses.state = 'MA' 
- output: [['Smith','2011-03-01','Boston'],['Smith','2011-03-02','Boston']]
---
- Statement: SELECT customers.name, 1 AS num, 'foo' AS str FROM customers 
- output: [['Jones','1','foo'],['Smith','1','foo']]
---
- Statement: SELECT customers.name,order_date,sku,quan FROM customers INNER JOIN orders ON customers.cid = orders.cid LEFT OUTER JOIN items ON orders.oid = items.oid WHERE order_date > '2011-01-01'  
- output: [['Jones','2011-02-28','1234','99'],['Smith','2011-03-01','1234','100'],['Smith','2011-03-01','4567','50'],['Smith','2011-03-02',null,null],['Jones','2011-03-03','9876','1']]
---
- Statement: SELECT customers.name,sku FROM customers LEFT JOIN orders ON customers.cid = orders.cid LEFT JOIN items ON orders.oid = items.oid WHERE name > 'M' 
- output: [['Smith',null],['Smith','1234'],['Smith','4567']]
---
- Statement: SELECT * FROM types 
- output: [['1','100','-1000000.0','1.23','1000.0','3456.0','3.14','2.72','foo','2011-04-01','13:15:01',!re '2011-01-04 15:59:59(\.0)?',!re '2011-01-04 15:01:02(\.0)?','1969','long text']]
---
- Statement: SELECT a_int FROM types WHERE a_date = '2011-04-01' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_date = ? 
- params: [['2011-04-01']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_datetime = '2011-01-04 15:59:59' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_datetime = ? 
- params: [['2011-01-04 15:59:59']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_decimal = 3.14 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_decimal = ? 
- params: [['3.14']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_double = 1000.0e0 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_double = ? 
- params: [['1000.0e0']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_float = -1.0e6 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_float = ? 
- params: [['-1.0e6']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_int = 1 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_int = ? 
- params: [['1']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_text = 'long text' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_text = ? 
- params: [['long text']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_time = '13:15:01' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_time = ? 
- params: [['13:15:01']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_timestamp = '2011-01-04 15:01:02' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_timestamp = ? 
- params: [['2011-01-04 15:01:02']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_udecimal = 2.72 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_udecimal = ? 
- params: [['2.72']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_udouble = 3456.0e0 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_udouble = ? 
- params: [['3456.0e0']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_ufloat = 1.23e0 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_ufloat = ? 
- params: [['1.23e0']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_uint = 100 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_uint = ? 
- params: [['100']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_varchar = 'foo' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_varchar = ? 
- params: [['foo']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_year = '1969' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types WHERE a_year = ? 
- params: [['1969']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_date = '2011-04-01' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_date = ? 
- params: [['2011-04-01']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_datetime = '2011-01-04 15:59:59' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_datetime = ? 
- params: [['2011-01-04 15:59:59']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_decimal = 3.14 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_decimal = ? 
- params: [['3.14']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_double = 1000.0e0 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_double = ? 
- params: [['1000.0e0']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_float = -1.0e6 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_float = ? 
- params: [['-1.0e6']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_int = 1 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_int = ? 
- params: [['1']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_time = '13:15:01' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_time = ? 
- params: [['13:15:01']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_timestamp = '2011-01-04 15:01:02'
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_timestamp = ?
- params: [['2011-01-04 15:01:02']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_udecimal = 2.72 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_udecimal = ? 
- params: [['2.72']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_udouble = 3456.0e0 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_udouble = ? 
- params: [['3456.0e0']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_ufloat = 1.23e0 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_ufloat = ? 
- params: [['1.23e0']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_uint = 100 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_uint = ? 
- params: [['100']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_varchar = 'foo' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_varchar = ? 
- params: [['foo']]
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_year = '1969' 
- output: [['1']]
---
- Statement: SELECT a_int FROM types_i WHERE a_year = ? 
- params: [['1969']]
- output: [['1']]
