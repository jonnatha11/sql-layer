# test for bug 1101322
---
- CreateTable: customers (customer_id int not null primary key generated by default as identity, 
                          customer_name varchar(255) not null, 
                          customer_title varchar(5),
                          primary_payment_code char(4) not null default 'CHRG', 
                          payment_status char(1) not null default 'C', 
                          comment varchar(255));
---
- Statement: create index customer_i1 on customers (customer_name);
---
- CreateTable: addresses (address_id int not null,
                          customer_id int not null, 
                          state varchar(2) not null,
                          zip_code int not null, 
                          phone varchar (15), 
                          address_type char(1) not null default 'N',
                          primary key (address_id), 
                          grouping foreign key (customer_id) references customers);
---
- CreateTable: orders (order_id int not null generated by default as identity,
                        customer_id int not null, 
                        order_date date not null, 
                        order_status char (1) not null default 'N', 
                        order_priority varchar(15) not null default 'Standard', 
                        ship_date date, 
                        ship_priority varchar(15),
                        ship_method varchar(15),
                        ship_parts int,
                        update_time timestamp default current_timestamp,
                        instructions long varchar,
                        primary key (order_id),
                        grouping foreign key (customer_id) REFERENCES customers);
---
- Statement: create index orders_i1 on orders (order_status, order_date);
---
- Statement: create index orders_i2 on orders (order_status, ship_date);
---
- CreateTable: items (item_id int not null,
                      order_id int not null,
                      book_id int not null,
                      quantity int not null,
                      unit_price decimal(5,3) not null,
                      discount float, 
                      tax float,
                      item_status char(1) not null default 'N',
                      shipment_part int,
                      color varchar(20),
                      last_updated timestamp null default null,
                      primary key(item_id),
                      grouping foreign key (order_id) references orders (order_id));
---
- Statement: create index items_i1 on items (item_status, shipment_part);
---
- Statement: create index items_i2 on items (book_id, color);
---
- Statement: create index items_i3 on items (order_id, last_updated);
---
- CreateTable: handling_instructions (hi_id int not null,
                                      order_id int not null,
                                      address_id int not null,
                                      additional_instructions varchar(255),
                                      primary key(hi_id),
                                      grouping foreign key (order_id) references orders(order_id));
---
- Statement: create index order_id   on handling_instructions (order_id);
---
- Statement: create index address_id on handling_instructions (address_id);
---
- CreateTable: states (code char(2) not null, name varchar(50) not null);
---
- CreateTable: books (book_id integer not null primary key generated by default as identity,
                      book_name varchar(50) not null, 
                      copyright_year date, 
                      author_name varchar(50) not null);
---
- Statement: insert into states (name, code) values 
            ('ALABAMA','AL'),('ALASKA','AK'),('AMERICAN SAMOA','AS'),('ARIZONA','AZ'),('ARKANSAS','AR'),
            ('CALIFORNIA','CA'),('COLORADO','CO'),('CONNECTICUT','CT'),
            ('DELAWARE','DE'),('DISTRICT OF COLUMBIA','DC'),
            ('FEDERATED STATES OF MICRONESIA','FM'),('FLORIDA','FL'),
            ('GEORGIA','GA'),('GUAM','GU'),
            ('HAWAII','HI'),
            ('IDAHO','ID'),('ILLINOIS','IL'),('INDIANA','IN'),('IOWA','IA'),
            ('KANSAS','KS'),('KENTUCKY','KY'),
            ('LOUISIANA','LA'),
            ('MAINE','ME'), ('MARSHALL ISLANDS','MH'),('MARYLAND','MD'),('MASSACHUSETTS','MA'), ('MICHIGAN','MI'),
            ('MINNESOTA','MN'),('MISSISSIPPI','MS'),('MISSOURI','MO'),('MONTANA','MT'),
            ('NEBRASKA','NE'), ('NEVADA','NV'), ('NEW HAMPSHIRE','NH'), ('NEW JERSEY','NJ'),('NEW MEXICO','NM'),
            ('NEW YORK','NY'), ('NORTH CAROLINA','NC'), ('NORTH DAKOTA','ND'),('NORTHERN MARIANA ISLANDS','MP'),
            ('OHIO','OH'),('OKLAHOMA','OK'),('OREGON','OR'),
            ('PALAU','PW'),('PENNSYLVANIA','PA'), ('PUERTO RICO','PR'),
            ('RHODE ISLAND','RI'), 
            ('SOUTH CAROLINA','SC'),('SOUTH DAKOTA','SD'),
            ('TENNESSEE','TN'),('TEXAS','TX'),
            ('UTAH','UT'),
            ('VERMONT','VT'),('VIRGIN ISLANDS','VI'),('VIRGINIA','VA'),
            ('WASHINGTON','WA'),('WEST VIRGINIA','WV'),('WISCONSIN','WI'),('WYOMING','WY'),
            ('Armed Forces Africa','AF'),('Armed Forces Americas','AA'),('Armed Forces Canada','AC'),
            ('Armed Forces Europe','AE'),('Armed Forces Middle East','AM'),('Armed Forces Pacific','AP');
---
- Statement: SELECT 1 FROM items JOIN orders ON (items.order_id = orders.order_id) 
                                 JOIN customers ON (orders.customer_id = customers.customer_id) 
                      WHERE customers.primary_payment_code = 'CHRG' 
                              AND customers.payment_status = 'C' 
                              AND items.item_id IN (101,?)
                      ORDER BY orders.update_time
- params: [[79165]]
- warnings_count: 0
...

