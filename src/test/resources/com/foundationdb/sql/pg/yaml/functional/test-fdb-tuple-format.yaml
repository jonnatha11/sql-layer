# Test STORAGE_FORMAT tuple
---
- CreateTable: t1 (id INT PRIMARY KEY NOT NULL, s VARCHAR(16)) STORAGE_FORMAT tuple
---
- Statement: INSERT INTO t1 VALUES(1,'Fred'),(2,'Wilma'),(3,'Pebbles'),(4,'Dino')
---
- Statement: SELECT * FROM t1
- output: [[1,'Fred'],[2,'Wilma'],[3,'Pebbles'],[4,'Dino']]
---
- Statement: CREATE INDEX t1_s ON t1(s) STORAGE_FORMAT tuple
---
- Statement: ALTER TABLE t1 ALL UPDATE STATISTICS
---
- Statement: SELECT * FROM t1
- output: [[4,'Dino'],[1,'Fred'],[3,'Pebbles'],[2,'Wilma']]
---
- Statement: SELECT * FROM t1 WHERE s >= 'M'
- output: [[3,'Pebbles'],[2,'Wilma']]
---
- Statement: SELECT * FROM t1 WHERE s >= 'M' ORDER BY s DESC
- output: [[2,'Wilma'],[3,'Pebbles']]
---
- Statement: SELECT * FROM t1 WHERE id = 2
- output: [[2,'Wilma']]
---
# Tests for REAL
- CreateTable: t2 (id INT PRIMARY KEY NOT NULL, r REAL) STORAGE_FORMAT tuple
---
- Statement: INSERT INTO t2 VALUES(1, -1.5),(2, 4),(3, 1.5), (4, 5)
---
- Statement: SELECT * FROM t2
- output: [[1, -1.5],[2, 4.0], [3, 1.5], [4, 5.0]]
---
- Statement: CREATE INDEX t2_r ON t2(r) STORAGE_FORMAT tuple
---
- Statement: ALTER TABLE t2 ALL UPDATE STATISTICS
---
- Statement: SELECT * FROM t2
- output: [[1, -1.5],[3, 1.5],[2, 4.0],[4, 5.0]]
---
- Statement: SELECT * FROM t2 WHERE r > 0
- output: [[3, 1.5],[2, 4.0],[4, 5.0]]
---
- Statement: SELECT * FROM t2 WHERE r > 0 ORDER BY r DESC
- output: [[4, 5.0], [2, 4.0], [3, 1.5]]
---
# Tests for FLOAT (maybe not necessary - real == float?)
- CreateTable: t3 (id INT PRIMARY KEY NOT NULL, r FLOAT(23)) STORAGE_FORMAT tuple
---
- Statement: INSERT INTO t3 VALUES(1, -1.5),(2, 4),(3, 1.5), (4, 5)
---
- Statement: SELECT * FROM t3
- output: [[1, -1.5],[2, 4.0], [3, 1.5], [4, 5.0]]
---
- Statement: CREATE INDEX t3_r ON t3(r) STORAGE_FORMAT tuple
---
- Statement: ALTER TABLE t3 ALL UPDATE STATISTICS
---
- Statement: SELECT * FROM t3
- output: [[1, -1.5],[3, 1.5],[2, 4.0],[4, 5.0]]
---
- Statement: SELECT * FROM t3 WHERE r > 0
- output: [[3, 1.5],[2, 4.0],[4, 5.0]]
---
- Statement: SELECT * FROM t3 WHERE r > 0 ORDER BY r DESC
- output: [[4, 5.0], [2, 4.0], [3, 1.5]]
---
# Tests for DOUBLE
- CreateTable: t4 (id INT PRIMARY KEY NOT NULL, r DOUBLE) STORAGE_FORMAT tuple
---
- Statement: INSERT INTO t4 VALUES(1, -1.5),(2, 4),(3, 1.5), (4, 5)
---
- Statement: SELECT * FROM t4
- output: [[1, -1.5],[2, 4.0], [3, 1.5], [4, 5.0]]
---
- Statement: CREATE INDEX t4_r ON t4(r) STORAGE_FORMAT tuple
---
- Statement: ALTER TABLE t4 ALL UPDATE STATISTICS
---
- Statement: SELECT * FROM t4
- output: [[1, -1.5],[3, 1.5],[2, 4.0],[4, 5.0]]
---
- Statement: SELECT * FROM t4 WHERE r > 0
- output: [[3, 1.5],[2, 4.0],[4, 5.0]]
---
- Statement: SELECT * FROM t4 WHERE r > 0 ORDER BY r DESC
- output: [[4, 5.0], [2, 4.0], [3, 1.5]]
---
# Tests for DECIMAL
- CreateTable: t5 (id INT PRIMARY KEY NOT NULL, r DECIMAL(5, 2)) STORAGE_FORMAT tuple
---
- Statement: INSERT INTO t5 VALUES(1, -1.11),(2, 4.44),(3, 1.11), (4, 5.55)
---
- Statement: SELECT * FROM t5
- output: [[1, -1.11],[2, 4.44], [3, 1.11], [4, 5.55]]
---
- Statement: CREATE INDEX t5_r ON t5(r) STORAGE_FORMAT tuple
---
- Statement: ALTER TABLE t5 ALL UPDATE STATISTICS
---
- Statement: SELECT * FROM t5
- output: [[1, -1.11],[3, 1.11],[2, 4.44],[4, 5.55]]
---
- Statement: SELECT * FROM t5 WHERE r > 0
- output: [[3, 1.11],[2, 4.44],[4, 5.55]]
---
- Statement: SELECT * FROM t5 WHERE r > 0 ORDER BY r DESC
- output: [[4, 5.55], [2, 4.44], [3, 1.11]]
---
# Tests for NUMERIC
- CreateTable: t6 (id INT PRIMARY KEY NOT NULL, r NUMERIC(5))  STORAGE_FORMAT tuple
---
- Statement: INSERT INTO t6 VALUES(1, 12345),(2, 23451),(3, -12345), (4, 0)
---
- Statement: SELECT * FROM t6
- output: [[1, 12345],[2, 23451], [3, -12345], [4, 0]]
---
- Statement: CREATE INDEX t6_r ON t6(r) STORAGE_FORMAT tuple
---
- Statement: ALTER TABLE t6 ALL UPDATE STATISTICS
---
- Statement: SELECT * FROM t6
- output: [[3, -12345],[4, 0],[1, 12345],[2, 23451]]
---
- Statement: SELECT * FROM t6 WHERE r >= 0
- output: [[4, 0],[1, 12345],[2, 23451]]
---
- Statement: SELECT * FROM t6 WHERE r >= 0 ORDER BY r DESC
- output: [[2, 23451],[1, 12345],[4, 0]]
...